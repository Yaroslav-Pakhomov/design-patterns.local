Состояние
State

Состояние - поведенческий шаблон проектирования, который позволяет поведению объекта изменяться в зависимости от его состояния. Рассмотрим пример использования шаблона на чайнике с водой в нем. С этим примером я намучился, но все-таки смог его довести до состояния, которое меня бы устроило.

1. Вода в чайничке реализует интерфейс IWaterState с методом реакции на кипячение.

2. Абстрактная "вода" AbstractWater будет содержать в свойствах чайник, в который ее налили и абстрактный метод reactToBoiling, который реализуем в потомках.

3. Состояниями будут класс холодной HotWater.

4. И горячей воды HotWater.
Объекты этих двух классов и будут "Состоянием" нашего чайника Kettle, поведение которого будет изменяться в зависимости от того, в каком "состоянии" он сейчас находится.

5. Реализуем класс чайника Kettle с соответствующими методами.

6. Проверяем работоспособность кода.