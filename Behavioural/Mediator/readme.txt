Посредник
Mediator

Посредник - поведенческий шаблон проектирования, позволяющий уменьшить связность между объектами, путем помещения между ними посредника, через который они будут взаимодействовать, не зная о деталях реализации друг друга.

Пример, на котором будет продемонстрирован принцип шаблона - это чат. У нас есть пользователи, которые даже немного отличаются друг от друга (администратор чата и обычный юзер) и нам необходимо как-то сделать так, чтобы они друг другу смогли отправлять сообщения. Слегка поразмыслив, можно реализовать передачу сообщений непосредственно между объектами пользователей чата, однако мы столкнемся с довольно запутанным кодом, к тому же объекты пользователей будут зависеть друг от друга и так далее...

Решением этого вопроса станет посредник - чат, в котором будут аккумулироваться все сообщения и можно даже добавить разнообразной логики (типа банов и мьютов, когда сообщения определенного пользователя одни читать смогут, а другие - нет).

1. Начнем с абстрактного пользователя чата AbstractUser.

2. Добавим классы Администратора AdminUser и Обычного пользователя RegularUser, с очень сильно отличающимся друг от друга функционалом.

3. Создадим интерфейс нашего посредника IMediator.

4. Реализуем интерфейс посредника в классе ChatMediator.

5. Проверим как все это дело будет работать.