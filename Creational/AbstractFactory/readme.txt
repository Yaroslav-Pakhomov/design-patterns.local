Абстрактная фабрика
Abstract Factory

Абстрактная фабрика - порождающий шаблон проектирования, который позволяет создавать семейства различных объектов, без привязки к конкретным их реализациям.

Рассмотрим абстрактную фабрику на примере двух разных фабрик с общим интерфейсом, одна из которых собирает дизельные, а другая бензиновые автомобили. Каждая машина будет состоять из двигателя, коробки передач и бака для горючего. Минималистичная машина, даже без колес и остального металлолома.

1. Для каждого из компонентов автомобиля создадим по интерфейсу! Двигатель (IEngine), Топливный бак (IFuelTank), Коробка передач (ITransmission).

2. Реализуем эти интерфейсы в конкретных реализациях компонентов.

3. "Бензиновые" компоненты. Двигатель (GasEngine), Бензобак (GasFuelTank), Коробка - автомат (AutomaticTransmission).

4. "Дизельные" компоненты. Мотор (DieselEngine), Бак под солярку (DieselFuelTank), Коробка - механика (MechanicalTransmission).

5. Интерфейс фабрики (ICarFactory) будет состоять из трех фабричных методов, возвращающих тип компонента (бензиновый или дизельный) в зависимости от фабрики, которая этот метод будет вызывать.

6. Реализуем интерфейс фабрики в двух классах, которые будут возвращать соответствующие компоненты для автомобиля: под бензин (GasolineCarFactory).

7. Реализуем интерфейс фабрики в двух классах, которые будут возвращать соответствующие компоненты для автомобиля: под дизель (DieselCarFactory).

8. Пишем отдельный класс (CarAssembler), управляющий работой фабрики и заодно эту работу демонстрирующий.

9. Запускаем производство.
Для того чтобы запустить всё это движение на клиентской стороне, нам нужно: создать сборщика и собрать бензиновую машину, затем сменить фабрику и собрать дизельный автомобиль.
