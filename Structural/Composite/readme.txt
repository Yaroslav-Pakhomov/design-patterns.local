Компоновщик
Composite

Компоновщик - структурный шаблон проектирования, реализация которого позволит сгруппировать разные объекты в древовидную структуру и управлять ей как одним объектом. В большинстве случаев такое поведение необходимо тогда, когда у вас есть простые и составные объекты.

Любая организация состоит из сотрудников, а сотрудники, в свою очередь, выполняют определенные обязанности, получают заработную плату, могут или не могут иметь в подчинении других сотрудников и т. д. Структурные паттерны Composite объединяют различные объекты в древовидные структуры, позволяя в дальнейшем работать с ними, как с одним объектом.

1. Создадим интерфейс разных типов сотрудников IEmployee.

2. Реализуем два класса Developer и Designer с имплементацией интерфейса IEmployee.

3. Представим класс организации Organization, в которой состоят различные сотрудники.

4. Создадим класс отдел Department, объекты которого будут создаваться в классе Organization.

4. Проверяем работоспособность.



Ещё пример (папка «Nails»):

Рассмотрим шаблон на примере гвоздей! :) У нас интернет-магазин, торгующий как гвоздями, так и коробками гвоздей.

1. Объявим интерфейс для гвоздя INail. В интерфейсе - всего один метод getPrice(), возвращающий цену гвоздя.

2. Реализуем класс Гвоздь Nail на основе интерфейса.
______________________________________________

Но мы продаем не только гвозди, мы продаем еще и коробки с гвоздями. И вполне может быть такое, что в процессе сбора заказа мы положим в коробку с гвоздями и другую коробку с гвоздями! Никаких логических ошибок нет: коробка с гвоздями с коробкой с гвоздями внутри - не перестает быть коробкой с гвоздями, неважно лежит там гвоздь или коробка с гвоздями или коробка с гвоздями с коробкой с гвоздями...
______________________________________________

3. Коробка с гвоздями NailBox, сможет содержать как отдельные гвозди, так и коробки с гвоздями.
В конечном счете - стоимость Альфа-коробки, в которой находятся все остальные гвозди и коробки, отразит общую стоимость.

4. Возьмем 4 разных по стоимости гвоздя, 3 из них сложим в коробку №1, а в коробку №2 положим первую коробку и 4ый гвоздь. Проверим, верно ли у нас все считается.
